<div class="p-4">
  <h1 class="text-4xl font-extrabold mb-8 text-green-400 text-center">Your Top Artists</h1>

  @if (topArtists().length > 0) {
    <mat-card class="bg-gray-800 text-gray-100 shadow-xl rounded-lg overflow-hidden">
      <mat-card-content class="p-0">
        <div class="overflow-x-auto">
          <table mat-table [dataSource]="topArtists()" class="w-full text-gray-200">
            <!-- Position Column -->
            <ng-container matColumnDef="position">
              <th mat-header-cell *matHeaderCellDef class="text-left py-4 px-6 text-lg font-semibold border-b border-gray-700"> # </th>
              <td mat-cell *matCellDef="let artist; let i = index" class="py-4 px-6 border-b border-gray-700"> {{ i + 1 }} </td>
            </ng-container>

            <!-- Image Column -->
            <ng-container matColumnDef="image">
              <th mat-header-cell *matHeaderCellDef class="text-left py-4 px-6 text-lg font-semibold border-b border-gray-700"> </th>
              <td mat-cell *matCellDef="let artist" class="py-4 px-6 border-b border-gray-700">
                <img [src]="artist.image" alt="{{ artist.name }}" class="w-12 h-12 rounded-full shadow-md object-cover">
              </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef class="text-left py-4 px-6 text-lg font-semibold border-b border-gray-700"> Artist </th>
              <td mat-cell *matCellDef="let artist" class="py-4 px-6 border-b border-gray-700 font-medium text-white"> {{ artist.name }} </td>
            </ng-container>

            <!-- Genre Column -->
            <ng-container matColumnDef="genre">
              <th mat-header-cell *matHeaderCellDef class="text-left py-4 px-6 text-lg font-semibold border-b border-gray-700"> Genre </th>
              <td mat-cell *matCellDef="let artist" class="py-4 px-6 border-b border-gray-700 text-gray-400"> {{ artist.genre }} </td>
            </ng-container>

            <!-- Popularity Column -->
            <ng-container matColumnDef="popularity">
              <th mat-header-cell *matHeaderCellDef class="text-left py-4 px-6 text-lg font-semibold border-b border-gray-700"> Popularity </th>
              <td mat-cell *matCellDef="let artist" class="py-4 px-6 border-b border-gray-700 text-green-400 font-semibold"> {{ artist.popularity }}% </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="hover:bg-gray-700 transition-colors duration-150"></tr>
          </table>
        </div>
      </mat-card-content>
    </mat-card>
  } @else {
    <div class="flex justify-center items-center h-64">
      <p class="text-xl text-gray-400">Loading top artists...</p>
    </div>
  }
</div>
